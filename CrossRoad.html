<html>
    <body>
       <canvas id="canvas" width=925 height=920></canvas>
    </body>
    <script>
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");

        //Границы
        ctx.beginPath();
        let x_bord = Array(0,canvas.offsetWidth);
        let y_bord = Array(0,canvas.offsetHeight);
        ctx.strokeStyle = 'black';
        ctx.moveTo(x_bord[0], y_bord[0]);
        ctx.lineTo(x_bord[1],y_bord[0]);
        ctx.lineTo(x_bord[1],y_bord[1]);
        ctx.lineTo(x_bord[0],y_bord[1]);
        ctx.lineTo(x_bord[0],y_bord[0]);
        ctx.stroke();
        ctx.closePath();

        //Дорога
        ctx.beginPath();
        ctx.fillStyle = "rgb(128,128,128)";
        ctx.fillRect(300,100,330,700);
        ctx.fillRect(120,280,700,330);
        ctx.stroke();
        ctx.closePath();

        //Разметка
        ctx.beginPath();
        ctx.strokeStyle = "rgb(255,255,255)";
        ctx.lineWidth = 5;
        ctx.setLineDash([15, 20]);
        ctx.moveTo(470,109);
        ctx.lineTo(470,800);
        ctx.moveTo(129,450);
        ctx.lineTo(820,450);
        ctx.stroke();
        ctx.closePath();

        //СвЯтофоры
        //Вертикальная дорого
        DrawVRoadRed();
        //Горизонтальная дорога
        DrawHRoadGreen();

        //Кнопки увеличения счётчиков
        DrawButton(520,810);
        DrawButton(370,40);
        DrawButton(60,490);
        DrawButton(830,340);

        function DrawTrafLight(x,y,rotateAngle,color){
            ctx.beginPath();
            ctx.strokeStyle = "black";
            ctx.setLineDash([]);
            ctx.lineWidth = 5;
            var length = 60;
            ctx.moveTo(x,y);
            ctx.lineTo(x+length*Math.cos(rotateAngle),y+length*Math.sin(rotateAngle));
            ctx.stroke();
            var light_center_lenght = 45;
            var radius = 15;
            var startAngle = 0;
            var endAngle = 0;
            var anticlockwise = true;
            startAngle = 0 + rotateAngle;
            endAngle = startAngle + Math.PI;
            anticlockwise = true;
            ctx.arc(x+light_center_lenght*Math.cos(rotateAngle), y+light_center_lenght*Math.sin(rotateAngle), radius, startAngle, endAngle, anticlockwise);
            ctx.fillStyle = color
            ctx.fill();
            ctx.closePath();
        }
        
        function DrawVRoadRed(){
            DrawTrafLight(300,280,0,"red");
            DrawTrafLight(630,280,-Math.PI,"red");
            DrawTrafLight(300,610,0,"red");
            DrawTrafLight(630,610,-Math.PI,"red");
        }
        function DrawVRoadGreen(){
            DrawTrafLight(300,280,0,"green");
            DrawTrafLight(630,280,-Math.PI,"green");
            DrawTrafLight(300,610,0,"green");
            DrawTrafLight(630,610,-Math.PI,"green");
        }
        function DrawHRoadRed(){
            DrawTrafLight(300,280,Math.PI/2,"red");
            DrawTrafLight(630,280, Math.PI/2,"red");
            DrawTrafLight(300,610,-Math.PI/2,"red");
            DrawTrafLight(630,610,-Math.PI/2,"red");
        }
        function DrawHRoadGreen(){
            DrawTrafLight(300,280,Math.PI/2,"green");
            DrawTrafLight(630,280, Math.PI/2,"green");
            DrawTrafLight(300,610,-Math.PI/2,"green");
            DrawTrafLight(630,610,-Math.PI/2,"green");
        }
    
        function DrawButton(x,y){
            ctx.beginPath();
            ctx.fillStyle = "rgb(0,128,128)";
            ctx.fillRect(x,y,50,50);
            ctx.strokeStyle = "rgb(0,0,128)"
            ctx.lineWidth = 3;
            ctx.moveTo(x+=15,y+=15);
            ctx.lineTo(x,y+20);
            ctx.moveTo(x-=10,y+10);
            ctx.lineTo(x+20,y+10);
            ctx.moveTo(x+=30,y);
            ctx.lineTo(x,y+20);
            ctx.stroke()
            ctx.closePath();
        }
    </script>
</html>